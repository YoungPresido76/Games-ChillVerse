<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Idle Verses - Chill Verse</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a1a;
      --surface: rgba(20,25,50,0.92);
      --neon-cyan: #06b6d4;
      --neon-purple: #8b5cf6;
      --text: #e2e8f0;
      --glow: 0 0 8px rgba(6,182,212,0.5);
    }

    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Rajdhani', sans-serif;
      font-size: 11px;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    canvas { position: fixed; inset: 0; z-index: -1; opacity: 0.65; }

    .screen {
      position: absolute; inset: 0;
      display: none; flex-direction: column; align-items: center; justify-content: center;
      padding: 8px;
    }
    .screen.active { display: flex; }

    .title {
      font-family: 'Orbitron', monospace;
      font-size: clamp(1.2rem, 5vw, 1.8rem);
      background: linear-gradient(90deg, var(--neon-cyan), var(--neon-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      margin-bottom: 8px;
    }

    form {
      width: 100%; max-width: 280px;
      background: var(--surface);
      padding: 16px 20px;
      border-radius: 10px;
      border: 1px solid rgba(6,182,212,0.3);
    }
    label { display: block; margin: 10px 0 4px; font-size: 0.9rem; }
    input {
      width: 100%; padding: 8px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(6,182,212,0.4);
      border-radius: 6px;
      color: white; font-size: 0.9rem;
    }
    button {
      width: 100%; padding: 10px; margin-top: 16px;
      background: linear-gradient(90deg, var(--neon-cyan), #00f0ff);
      color: #000;
      font-weight: 700; font-size: 0.95rem;
      border: none; border-radius: 6px;
      cursor: pointer;
    }

    .loader { text-align: center; }
    .spinner {
      width: 32px; height: 32px;
      border: 4px solid rgba(6,182,212,0.2);
      border-top-color: var(--neon-cyan);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 12px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    #game {
      width: 100%; max-width: 280px;
      background: var(--surface);
      padding: 16px;
      border-radius: 10px;
      border: 1px solid rgba(6,182,212,0.3);
      text-align: center;
    }
    h1 { font-size: 1.3rem; margin-bottom: 8px; }
    #chills { font-size: 1.8rem; margin: 12px 0; font-weight: 700; color: var(--neon-cyan); }
    button.game-btn {
      padding: 10px; font-size: 1rem;
      background: #444; color: white;
      margin: 6px 0; border-radius: 6px;
    }
    button.game-btn:active:not(:disabled) { background: #666; }
    button.upgrade { background: #4a4; font-size: 0.9rem; padding: 8px; }
    button.upgrade:disabled { background: #222; opacity: 0.5; }

    .header {
      text-align: center;
      padding: 8px;
      background: rgba(0,0,0,0.4);
    }
    .player-name {
      position: absolute; top: 8px; right: 12px;
      font-size: 0.9rem; opacity: 0.8; color: var(--neon-cyan);
      font-weight: 600;
    }

    .sound-toggle {
      position: absolute; top: 8px; left: 12px;
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      border-radius: 50%;
      width: 36px; height: 36px;
      font-size: 1.2rem;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.6);
      z-index: 100;
    }

    .sticky-earn {
      position: fixed; bottom: 16px; right: 16px;
      width: 48px; height: 48px;
      background: linear-gradient(135deg, var(--neon-purple), var(--neon-cyan));
      color: #000;
      border: none; border-radius: 50%;
      font-size: 1rem; font-weight: 700;
      box-shadow: 0 4px 12px rgba(0,0,0,0.6);
      cursor: pointer; z-index: 100;
      display: flex; align-items: center; justify-content: center;
    }

    @media (prefers-reduced-motion: reduce) {
      * { animation-duration: 0.01ms !important; transition: none !important; }
    }
  </style>
</head>
<body>

<canvas id="particles" aria-hidden="true"></canvas>

<!-- Sound Toggle (top-left) -->
<button id="sound-toggle" class="sound-toggle" aria-label="Toggle background music" title="Toggle music">ðŸ”Š</button>

<!-- Player name display (top-right) -->
<div id="player-name-display" class="player-name" hidden></div>

<!-- Login Screen -->
<section id="login" class="screen active">
  <h1 class="title">Idle Verses</h1>
  <form id="login-form">
    <label for="player-name-input">Your Name</label>
    <input id="player-name-input" type="text" placeholder="Enter Username....." required>

    <label for="player-phone">WhatsApp Number</label>
    <input id="player-phone" type="tel" placeholder="+234......" required>

    <button type="submit">Start Playing</button>
  </form>
</section>

<!-- Loading Screen -->
<section id="loading" class="screen" hidden aria-live="polite">
  <div class="loader">
    <div class="spinner"></div>
    <p>Setting up player logs...</p>
    <p id="logged-message" style="margin-top:16px; font-size:1.1rem; display:none;">
      Logged in as <strong id="logged-name"></strong>
    </p>
  </div>
</section>

<!-- Game Screen -->
<section id="game-screen" class="screen" hidden>
  <div id="game">
    <h1>Idle Verses</h1>
    <div id="chills">Chills: 0</div>
    <button id="click" class="game-btn" aria-label="Click to earn 1 Chill">Gain 1 Chills</button>
    <div id="upgrades"></div>
    <p style="font-size:0.8rem; margin-top:12px; opacity:0.8;">Auto-saves progress!</p>
  </div>

  <!-- Round floating Earn button (bottom-right) -->
  <button id="sticky-earn" class="sticky-earn" aria-label="Earn Diamonds">Earn</button>
</section>

<!-- Background Music (loops forever) -->
<audio id="bg-music" loop>
  <source src="Sounds/Sound 1.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Game Logic (your original Group Clicker â€“ adapted)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let chills = 0;
let auto = 0;
let autocost = 15;

function save() {
  localStorage.setItem('idleVerses', JSON.stringify({ chills, auto }));
}

function load() {
  const saved = localStorage.getItem('idleVerses');
  if (saved) {
    const data = JSON.parse(saved);
    chills = data.chills || 0;
    auto = data.auto || 0;
  }
}

function updateDisplay() {
  document.getElementById('chills').textContent = 'Chills: ' + Math.floor(chills);

  const upgrades = document.getElementById('upgrades');
  upgrades.innerHTML = '';

  const btn = document.createElement('button');
  btn.className = 'game-btn upgrade';
  btn.textContent = `Get Auto Chills (${auto}) - ${Math.floor(autocost)} Chills`;
  btn.disabled = chills < autocost;
  btn.onclick = () => {
    if (chills >= autocost) {
      chills -= autocost;
      auto++;
      autocost = Math.floor(autocost * 1.5);
      save();
      updateDisplay();
    }
  };
  upgrades.appendChild(btn);
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Login â†’ Loading â†’ Game Flow
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.getElementById('login-form').addEventListener('submit', e => {
  e.preventDefault();

  const name = document.getElementById('player-name-input').value.trim() || 'Player';
  document.getElementById('player-name-display').textContent = name;
  document.getElementById('player-name-display').hidden = false;

  document.getElementById('login').classList.remove('active');
  document.getElementById('loading').classList.add('active');

  setTimeout(() => {
    document.getElementById('logged-message').style.display = 'block';
    document.getElementById('logged-name').textContent = name;
  }, 2000);

  setTimeout(() => {
    document.getElementById('loading').classList.remove('active');
    document.getElementById('game-screen').classList.add('active');

    load();
    updateDisplay();

    // Start auto-production
    setInterval(() => {
      chills += auto / 10;
      updateDisplay();
      save();
    }, 100);

    // Start background music automatically (unless user toggles off later)
    const music = document.getElementById('bg-music');
    music.play().catch(() => console.log("Autoplay blocked â€“ user interaction needed"));
  }, 5000);
});

// Manual click
document.getElementById('click').onclick = () => {
  chills++;
  updateDisplay();
  save();
};

// Sound toggle (top-left)
const toggleBtn = document.getElementById('sound-toggle');
const music = document.getElementById('bg-music');
let isPlaying = true;

toggleBtn.onclick = () => {
  if (isPlaying) {
    music.pause();
    toggleBtn.textContent = 'ðŸ”‡';
    toggleBtn.title = 'Music off';
  } else {
    music.play();
    toggleBtn.textContent = 'ðŸ”Š';
    toggleBtn.title = 'Music on';
  }
  isPlaying = !isPlaying;
};

// Earn button (round floating bottom-right)
document.getElementById('sticky-earn').onclick = () => {
  alert("Earn feature coming soon!\n\n(50k Chills = 60 Diamonds â€“ screenshot & send to Vicbot)");
};

// Particles background
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const particles = Array.from({length: 60}, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  vx: (Math.random() - 0.5) * 0.4,
  vy: (Math.random() - 0.5) * 0.4,
  r: Math.random() * 1.5 + 0.5
}));

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  particles.forEach(p => {
    p.x += p.vx; p.y += p.vy;
    if (p.x < 0 || p.x > canvas.width) p.vx *= -1;
    if (p.y < 0 || p.y > canvas.height) p.vy *= -1;
    ctx.beginPath();
    ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(6,182,212,0.4)';
    ctx.fill();
  });
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>
